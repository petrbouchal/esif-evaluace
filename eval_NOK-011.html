<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="cs" xml:lang="cs"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>esif-evaluace - Evaluace</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "language": {
    "search-no-results-text": "Žádný výsledek",
    "search-matching-documents-text": "Nalezené výsledky",
    "search-copy-link-title": "Zkopírovat odkaz pro vyhledávání",
    "search-hide-matches-text": "Skrýt další výsledky",
    "search-more-match-text": "další výsledek v tomto dokumentu",
    "search-more-matches-text": "dalších výsledků v tomto dokumentu",
    "search-clear-button-title": "Vymazat",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Zrušit",
    "search-submit-button-title": "Odeslat",
    "search-label": "Hledat"
  }
}</script>
<link href="site_libs/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="site_libs/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">


<link rel="stylesheet" href="style.css">
</head>

<body>

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Na této stránce</h2>
   
  <ul>
  <li><a href="#evaluace" id="toc-evaluace" class="nav-link active" data-scroll-target="#evaluace">Evaluace</a></li>
  <li><a href="#etapy" id="toc-etapy" class="nav-link" data-scroll-target="#etapy">Etapy</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Zjišťování míry naplnění indikátorů spokojenosti zaměstnanců / relevantních aktérů</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>(<a href="./index.html">zpět na seznam evaluací</a>)</p>
<section id="evaluace" class="level2">
<h2 class="anchored" data-anchor-id="evaluace">Evaluace</h2>
<div class="cell">
<div class="cell-output-display">
<div class="popis-evaluace-box" style="margin-bottom: 0px">
<div class="popis-evaluace">
<span>Popis: </span>
Zjištění míry naplňování tří výsledkových indikátorů spokojenosti, které byly definovány v Operačním programu Technická pomoc 2014-2020. Případná aktualizace metodiky dle potřeb.

Prostřednictvím pravidelného (zpravidla ročního) standardizovaného dotazníkového šetření bude zjišťována míra naplňování tří výsledkových indikátorů, které byly definovány v Operačním programu Technická pomoc 2014?2020. Jednat se bude o tyto indikátory:
? Míra spokojenosti relevantních aktérů s podmínkami pro práci na řízení DoP/programů;
? Míra spokojenosti zaměstnanců implementační struktury s personální politikou a systémem vzdělávání;
? Míra spokojenosti zaměstnanců implementační struktury a příjemců a žadatelů s informačním systémem.
</div>
<div class="zamereni-evaluace">Zaměření evaluace: Operativní/procesní, Dopadová/Výsledková</div>
</div>
</div>
</div>
</section>
<section id="etapy" class="level2">
<h2 class="anchored" data-anchor-id="etapy">Etapy</h2>
<div class="cell">
<div class="cell-output-display">
<section id="NOK.011.01" class="level3">
<h3 data-anchor-id="NOK.011.01" class="anchored">Zjišťování míry naplnění indikátorů spokojenosti za rok 2015</h3>
<div class="popis-etapy-box">
<div class="detail-heading">
<span class="detail-label">Datum dokončení: </span>
10. prosince 2015
</div>
<div class="detail-heading">
<span class="detail-label">Popis etapy</span>
</div>
<div class="popis-etapy-text">Prostřednictvím pravidelného (ročního) standardizovaného dotazníkového šetření byla zjišťována míra naplňování tří výsledkových indikátorů, které byly definovány v Operačním programu Technická pomoc 2014-2020.

Jedná se o tyto indikátory: Míra spokojenosti relevantních aktérů s podmínkami pro práci na řízení DoP/programů; Míra spokojenosti zaměstnanců implementační struktury s personální politikou a systémem vzdělávání; Míra spokojenosti zaměstnanců implementační struktury a příjemců a žadatelů s informačním systémem.

Šetření bylo provedeno v souladu s nastavenou metodikou.

Klíčovými tématy zpětné vazby na implementaci byla spokojenost s informačním systémem MS2014+ (z pohledu žadatelů i interních uživatelů, tzn. zástupců implementační struktury), sjednocování pravidel a metodické dokumenty, příprava a podání žádosti o podporu; příprava výzev, komunikace mezi žadateli a řídícími orgány, a fungování pracovních skupin. Hodnocení spokojenosti zaměstnanců placených z OP TP se týkalo podmínek pro práci a personální politiky. Sběr dat pro hodnocení proběhl v průběhu října a listopadu 2015 formou on-line dotazníkového šetření mezi žadateli a zaměstnanci řídicích orgánů a MMR, dále pak formou skupinových diskusí se zaměstnanci řídicích orgánů; a hloubkových rozhovorů s žadateli.</div>
<div>
<div class="link">
<a href="https://msiu.mssf.cz/Document.aspx?docID=VU1TUHJpbG9oeTs4NDc5NjI4MTtQcmlsb2hhRE1TO0ZhbHNl" style="background-color: white; color: darkblue;">
<span style="display: inline-block; width: 20px;">
<i class="fas fa-flag-checkered" role="presentation" aria-label="flag-checkered icon"></i>
<span> </span>
</span>
</a>
<a href="https://msiu.mssf.cz/Document.aspx?docID=VU1TUHJpbG9oeTs4NDc5NjI4MTtQcmlsb2hhRE1TO0ZhbHNl">
<span>IS a JMP Závěrečná zpráva FIN tisk</span>
</a>
<span> + </span>
<a href="http://www.s-f.cz/cs/Fondy-EU/Narodni-organ-pro-koordinaci/Evaluace/Knihovna-evaluaci/Hodnoceni-plneni-cilu-Koncepce-JMP-a-Zjistovani-naplneni-indikatoru-sp">dodatečný odkaz</a>
</div>
</div>
</div>
</section>
<section id="NOK.011.02" class="level3">
<h3 data-anchor-id="NOK.011.02" class="anchored">Indikátory spokojenosti a vnímání korupce v ESIF za rok 2016</h3>
<div class="popis-etapy-box">
<div class="detail-heading">
<span class="detail-label">Datum dokončení: </span>
31. března 2017
</div>
<div class="detail-heading">
<span class="detail-label">Popis etapy</span>
</div>
<div class="popis-etapy-text">Předmětem evaluace bylo zjištění aktuálních hodnot tří vybraných indikátorů výsledků pro Operační program Technická pomoc (OPTP), které jsou na základě programové dokumentace OPTP 2014-2020 stanoveny jako dílčí ukazatele naplňování prioritní osy 1 a 2 (Podpora řízení a koordinace Dohody o partnerství a Jednotný monitorovací systém). Dotazníkové šetření současně zajistilo sběr dat k vnímání korupce v ESIF.

Kromě otázek směřujících k získání dat pro výpočet jednotlivých indikátorů letos dotazníky obsahovaly i otázky zaměřené na vnímání korupce v ESI fondech; závěry obsahuje samostatná zpráva.

Hodnoty indikátorů spokojenosti byly vypočteny z dat sbíraných formou on-line dotazníkových šetření. Dotazníky byly oproti metodice z roku 2014 aktualizovány pro programové období 2014-2020 a před jejich spuštěním proběhla podrobná pilotáž prostřednictvím 40 rozhovorů s respondenty. Celkem bylo připraveno a vyhodnoceno 6 dotazníků určených pro různé skupiny respondentů (zaměstnanci implementační struktury; žadatelé o podporu; členové pracovních skupin a pracovníci placení z OP TP).

Dotazníky obsahovaly také otázky sloužící k měření vnímání korupce v ESIF a porovnání tohoto vnímání mezi jednotlivými zainteresovanými stranami v rámci ESI fondů (tedy zaměstnanci implementační struktury, žadateli, členy pracovních skupin a osobami podílejícími se na řízení). Výsledky výzkumného šetření umožňují nepřímo ověřit funkčnost zavedených protikorupčních opatření pomocí identifikace rizikových oblastí výskytu korupce v rámci implementace ESI fondů a budou vstupním podkladem pro další připravované hodnocení v této oblasti. V rámci projektu vznikla Metodologie měření vnímání korupce v rámci ESIF.</div>
<div>
<div class="link">
<a href="https://msiu.mssf.cz/Document.aspx?docID=VU1TUHJpbG9oeTsxODc2OTEyMTc7UHJpbG9oYURNUztGYWxzZQ==" style="background-color: white; color: darkblue;">
<span style="display: inline-block; width: 20px;">
<i class="far fa-file-pdf" role="presentation" aria-label="file-pdf icon"></i>
<span> </span>
</span>
</a>
<a href="https://msiu.mssf.cz/Document.aspx?docID=VU1TUHJpbG9oeTsxODc2OTEyMTc7UHJpbG9oYURNUztGYWxzZQ==">
<span>1443 objednavka Indikatory 2016 pro RS</span>
</a>
</div>
</div>
</div>
</section>
<section id="NOK.011.03" class="level3">
<h3 data-anchor-id="NOK.011.03" class="anchored">Zjišťování míry naplnění indikátorů spokojenosti za rok 2017</h3>
<div class="popis-etapy-box">
<div class="detail-heading">
<span class="detail-label">Datum dokončení: </span>
1. června 2018
</div>
<div class="detail-heading">
<span class="detail-label">Popis etapy</span>
</div>
<div class="popis-etapy-text">Další část pravidelného zjišťování míry naplňování tří výsledkových indikátorů spokojenosti relevantních aktérů v roce 2017. Indikátory byly definovány v Operačním programu Technická pomoc 2014-2020. 

Jedná se o následující tři indikátory:
- Míra spokojenosti relevantních aktérů s podmínkami pro práci na řízení DoP/programů;
- Míra spokojenosti zaměstnanců implementační struktury s personální politikou a systémem vzdělávání;
- Míra spokojenosti zaměstnanců implementační struktury a příjemců a žadatelů s informačním systémem.

Evaluace navazuje na pravidelné (zpravidla roční) standardizované on-line dotazníkové šetření (CAWI). Do dotazníkového šetření byl zahrnut i sběr dat k evaluaci synenergií a komplementarit.</div>
<div>
<div class="link">
<a href="https://msiu.mssf.cz/Document.aspx?docID=VU1TUHJpbG9oeUV2YWw7NDI2MTAxMDI5O1ByaWxvaGFETVM7RmFsc2U=" style="background-color: white; color: darkblue;">
<span style="display: inline-block; width: 20px;">
<i class="fas fa-flag-checkered" role="presentation" aria-label="flag-checkered icon"></i>
<span> </span>
</span>
</a>
<a href="https://msiu.mssf.cz/Document.aspx?docID=VU1TUHJpbG9oeUV2YWw7NDI2MTAxMDI5O1ByaWxvaGFETVM7RmFsc2U=">
<span>Závěrečná zpráva fin nový</span>
</a>
</div>
</div>
</div>
</section>
<section id="NOK.011.04" class="level3">
<h3 data-anchor-id="NOK.011.04" class="anchored">Zjišťování míry naplnění indikátorů spokojenosti za rok 2018</h3>
<div class="popis-etapy-box">
<div class="detail-heading">
<span class="detail-label">Datum dokončení: </span>
31. července 2019
</div>
<div class="detail-heading">
<span class="detail-label">Popis etapy</span>
</div>
<div class="popis-etapy-text">Další část pravidelného zjišťování 3 výsledkových indikátorů OP TP - za rok 2018.  Tentokrát dotazník D (Spokojenost s podmínkami pro práci) rozšířen a poslán na všechny zaměstnance MMR - na přání vedení MMR. Do výpočtu ale zahrnuty jen odpovědi za placené z OP TP jako v jiných letech.</div>
<div class="detail-heading">
<span class="detail-label">Komentář</span>
</div>
<div class="popis-etapy-text">Stav plnění jednotlivých indikátorů spokojenosti za rok 2018:

-   Indikátor Spokojenost zaměstnanců implementační struktury a příjemců a žadatelů s informačním systémem (83420): hodnota = 60 % (škála 0 % až 100 %), do cílové hodnoty indikátoru chybí 20 procentních bodů. 

-   Indikátor Spokojenost zaměstnanců implementační struktury s personální politikou a systémem vzdělávání (82110): hodnota = 64 % (škála 0 % až 100 %), do cílové hodnoty indikátoru chybí 8 procentních bodů. 

-   Indikátor Spokojenost relevantních aktérů s podmínkami pro práci na řízení DoP/OP (82410): hodnota = 67 % (škála 0 % až 100 %), do cílové hodnoty indikátoru chybí 3 procentní body. 

Žádný z indikátorů spokojenosti nedosahuje cílové hodnoty, která má být dosažena v roce 2023. Nejnižších hodnot dosahuje dlouhodobě spokojenost s monitorovacím systémem. Celková hodnota indikátoru spokojenosti s monitorovacím systémem vzrostla meziročně (z roku 2017 na rok 2018) o více než 4 procentní body (p. b.). Indikátor má zároveň nastavenou nejvyšší cílovou hodnotu (viz graf 1 níže), a pokud se nepodaří udržet meziroční tempo růstu nad 4 p. b., nedojde v roce 2023 k naplnění cílové hodnoty indikátoru. Na základě vývoje hodnot indikátorů v čase lze předpokládat, že bez zlepšování MS2014+ se tempo růstu spokojenosti bude spíše zpomalovat, nebo vyroste na podobnou úroveň jako v roce 2014 (64 %) - kdy se hodnotil jiný, tehdy již zavedený monitorovací systém, a poté se hodnoty stabilizují, jak tomu je u zbylých indikátorů spokojenosti. Meziroční nárůst zbylých indikátorů spokojenosti je nižší než 1 procentní bod, pokud spokojenost nezačne (dynamičtěji) růst, cílová hodnota ani jednoho z indikátorů nebude v roce 2023 naplněna.</div>
<div>
<div class="link">
<a href="https://msiu.mssf.cz/Document.aspx?docID=VU1TUHJpbG9oeUV2YWw7NjA5Njc2MTA1O1ByaWxvaGFETVM7RmFsc2U=" style="background-color: white; color: darkblue;">
<span style="display: inline-block; width: 20px;">
<i class="far fa-file-pdf" role="presentation" aria-label="file-pdf icon"></i>
<span> </span>
</span>
</a>
<a href="https://msiu.mssf.cz/Document.aspx?docID=VU1TUHJpbG9oeUV2YWw7NjA5Njc2MTA1O1ByaWxvaGFETVM7RmFsc2U=">
<span>Indikátory spokojenosti ZZ  2018 final</span>
</a>
</div>
</div>
</div>
</section>
<section id="NOK.011.05" class="level3">
<h3 data-anchor-id="NOK.011.05" class="anchored">Zjišťování míry naplnění indikátorů spokojenosti za rok 2019-2020</h3>
<div class="popis-etapy-box">
<div class="detail-heading">
<span class="detail-label">Datum dokončení: </span>
30. dubna 2021
</div>
<div class="detail-heading">
<span class="detail-label">Popis etapy</span>
</div>
<div class="popis-etapy-text">Indikátory spokojenosti zjišťují míru spokojenosti v rámci tří hlavních oblastí: spokojenost s monitorovacím systémem (jak u interních, tak externích uživatelů); spokojenost s personální politikou a systémem odměňování a spokojenost s podmínkami pro práci (zaměstnanci implementační struktury placení z OP TP ? tj. zaměstnanci Ministerstva pro místní rozvoj (MMR) spadající pod Národní orgán pro koordinaci (MMR-NOK) a pod MMR OP TP a zaměstnanci Ministerstva financí (MF), konkrétně Auditního orgánu (AO), Platebního a certifikačního orgánu (PCO) a Centrálního kontaktního bodu AFCOS (AFCOS)). 
Vzhledem ke stabilnímu vývoji indikátorů a robustnosti šetření bylo po dohodě s OP TP v roce 2018 ustanoveno, že šetření se bude opakovat až za dva roky ? tj. v roce 2020. Kvůli situaci s COVID, která měla významný dopad na mnoho hodnocených oblastí, jsme zjišťovali spokojenost relevantních aktérů s oblastmi za roky 2020 i 2019.</div>
<div class="detail-heading">
<span class="detail-label">Komentář</span>
</div>
<div class="popis-etapy-text">Z posledního šetření, které pokrývalo roky 2019 a 2020, vyplývá, že došlo k navýšení spokojenosti u dvou ze tří sledovaných indikátorů. Ke zlepšení došlo u indikátoru Spokojenosti s informačním systémem, a to o šest procentních bodů na 66 procent. Tím indikátor přesáhl své maximum z roku 2014, a tedy i základní hodnotu, která byla naměřena ještě pro starý monitorovací systém. Do cílové hodnoty chybí čtyři procentní body. Pokud bude pokračovat stávající tempo růstu, mohla by být cílová hodnota 70 procent do roku 2023 dosažena, viz graf 1.  Dále došlo k navýšení indikátoru Spokojenost s podmínkami pro práci, který se zlepšil o čtyři procentní body na 72 procent. Tím překonal svoji cílovou hodnotu, která byla stanovena na 70 procent. Indikátor Spokojenost s personální politikou a systémem vzdělávání zůstal na hodnotě 64 procent. Výsledky šetření však mohly být především u tohoto indikátoru negativně ovlivněny pandemií COVID-19. Proto i zde hodnotíme stabilní hodnotu jako pozitivní výsledek. </div>
<div>
<div class="link">
<a href="https://msiu.mssf.cz/Document.aspx?docID=VU1TUHJpbG9oeUV2YWw7MTM3MDM1MTgzMjtQcmlsb2hhRE1TO0ZhbHNl" style="background-color: white; color: darkblue;">
<span style="display: inline-block; width: 20px;">
<i class="far fa-file-pdf" role="presentation" aria-label="file-pdf icon"></i>
<span> </span>
</span>
</a>
<a href="https://msiu.mssf.cz/Document.aspx?docID=VU1TUHJpbG9oeUV2YWw7MTM3MDM1MTgzMjtQcmlsb2hhRE1TO0ZhbHNl">
<span>Indikátory spokojenosti 2019-2020</span>
</a>
</div>
</div>
</div>
</section>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Zkopírováno!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Zkopírováno!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>